<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Epidemic Monitoring</title>
    <script src="../static/js/jquery.js"></script>
    <link rel="stylesheet" href="../static/css/main.css" />
    <style></style>
  </head>
  <body>
    <div id="title">Explore Critical Data from China Pandemic</div>
    <div id="time">Time</div>
    <div id="l1">left1</div>
    <div id="l2">left2</div>
    <div id="c1">
      <div class="num"><h1>123</h1></div>
      <div class="num"><h1>123</h1></div>
      <div class="num"><h1>123</h1></div>
      <div class="num"><h1>123</h1></div>
      <div class="txt"><h2>Total Confirm</h2></div>
      <div class="txt"><h2>Suspected</h2></div>
      <div class="txt"><h2>Total Heal</h2></div>
      <div class="txt"><h2>Total Dead</h2></div>
    </div>
    <div id="c2">middle2</div>
    <div id="r1">right1</div>
    <div id="r2">right2</div>
    <script>
      function getTime() {
        $.ajax({
          url: "/time",
          timeout: 10000,
          success: function (data) {
            $("#time").html(data);
          },
          error: function (xhr, ajaxOptions, thrownError) {
            alert(xhr.status);
            alert(thrownError);
          },
        });
      }

      function get_c1_data() {
        $.ajax({
          url: "/c1",
          success: function (data) {
            $(".num h1").eq(0).text(data.confirm);
            $(".num h1").eq(1).text(data.suspect);
            $(".num h1").eq(2).text(data.heal);
            $(".num h1").eq(3).text(data.dead);
          },
          error: function (xhr, ajaxOptions, thrownError) {
            alert(xhr.status);
            alert(thrownError);
          },
        });
      }

      setInterval(getTime, 1000);
      setInterval(get_c1_data, 1000);
    </script>
  </body>
</html>
